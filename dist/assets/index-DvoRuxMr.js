import{r as n,j as E,t as h,w as P,ac as R,y as M}from"./index-DFBcCm7V.js";function A(e){const t=T(e),r=n.forwardRef((l,o)=>{const{children:c,...u}=l,s=n.Children.toArray(c),d=s.find(D);if(d){const a=d.props.children,y=s.map(S=>S===d?n.Children.count(a)>1?n.Children.only(null):n.isValidElement(a)?a.props.children:null:S);return E.jsx(t,{...u,ref:o,children:n.isValidElement(a)?n.cloneElement(a,void 0,y):null})}return E.jsx(t,{...u,ref:o,children:c})});return r.displayName=`${e}.Slot`,r}function T(e){const t=n.forwardRef((r,l)=>{const{children:o,...c}=r;if(n.isValidElement(o)){const u=w(o),s=b(c,o.props);return o.type!==n.Fragment&&(s.ref=l?h(l,u):u),n.cloneElement(o,s)}return n.Children.count(o)>1?n.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var j=Symbol("radix.slottable");function D(e){return n.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===j}function b(e,t){const r={...t};for(const l in t){const o=e[l],c=t[l];/^on[A-Z]/.test(l)?o&&c?r[l]=(...s)=>{const d=c(...s);return o(...s),d}:o&&(r[l]=o):l==="style"?r[l]={...o,...c}:l==="className"&&(r[l]=[o,c].filter(Boolean).join(" "))}return{...e,...r}}function w(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function W(e){const t=e+"CollectionProvider",[r,l]=P(t),[o,c]=r(t,{collectionRef:{current:null},itemMap:new Map}),u=m=>{const{scope:i,children:x}=m,f=R.useRef(null),p=R.useRef(new Map).current;return E.jsx(o,{scope:i,itemMap:p,collectionRef:f,children:x})};u.displayName=t;const s=e+"CollectionSlot",d=A(s),a=R.forwardRef((m,i)=>{const{scope:x,children:f}=m,p=c(s,x),C=M(i,p.collectionRef);return E.jsx(d,{ref:C,children:f})});a.displayName=s;const y=e+"CollectionItemSlot",S="data-radix-collection-item",N=A(y),g=R.forwardRef((m,i)=>{const{scope:x,children:f,...p}=m,C=R.useRef(null),v=M(i,C),I=c(y,x);return R.useEffect(()=>(I.itemMap.set(C,{ref:C,...p}),()=>{I.itemMap.delete(C)})),E.jsx(N,{[S]:"",ref:v,children:f})});g.displayName=y;function O(m){const i=c(e+"CollectionConsumer",m);return R.useCallback(()=>{const f=i.collectionRef.current;if(!f)return[];const p=Array.from(f.querySelectorAll(`[${S}]`));return Array.from(i.itemMap.values()).sort((I,_)=>p.indexOf(I.ref.current)-p.indexOf(_.ref.current))},[i.collectionRef,i.itemMap])}return[{Provider:u,Slot:a,ItemSlot:g},O,l]}var V=n.createContext(void 0);function $(e){const t=n.useContext(V);return e||t||"ltr"}function B(e){const t=n.useRef({value:e,previous:e});return n.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}export{B as a,W as c,$ as u};
